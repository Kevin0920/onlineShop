<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">


    <div class="container">
      <a class="navbar-brand" [routerLink]="['/']">Order Website</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarColor02">
        <a [routerLink]="['/login']">
          <button class="btn btn-secondary my-2 my-sm-0" type="submit">
            <i class="fa fa-user-o fa-lg" aria-hidden="true"></i> Log in </button>
        </a>
      </div>

    </div>
  </nav>

  <div class="container" id="form">
    <div id="loginbox" style="margin-top:50px;" class="mainbox col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
      <div class="panel panel-info">
        <div class="panel-heading">
          <div class="panel-title">
            <i class="fa fa-user-circle" aria-hidden="true"></i> Sign In</div>

        </div>

        <!-- log in -->
        <div style="padding-top:30px" class="panel-body">
          <div style="display:none" id="login-alert" class="alert alert-danger col-sm-12"></div>
          <form id="loginform" class="form-horizontal" role="form" (submit)="login()" #formLogin="ngForm">
            <div style="margin-bottom: 25px" class="input-group">
              <span class="input-group-addon">
                <i class="fa fa-envelope-o fa-2x" aria-hidden="true"></i>
              </span>
              <input id="login-username" type="text" class="form-control" placeholder="Enter email" name="email" [(ngModel)]="user_log.email"
                #log_email="ngModel" required>
            </div>
            <div *ngIf="log_email.invalid && (log_email.dirty || log_email.touched)">
              <div class="alert alert-dismissible alert-danger aler_log" role="alert">
                <div *ngIf="log_email.errors.required">
                  <span> Email is required.</span>
                </div>
              </div>
            </div>


            <div style="margin-bottom: 25px" class="input-group">
              <span class="input-group-addon">
                <i class="fa fa-unlock fa-2x" aria-hidden="true"></i>
              </span>
              <input id="login-password" type="password" class="form-control" placeholder="Password" name="password" [(ngModel)]="user_log.password"
                #log_password="ngModel" required>
            </div>
            <div *ngIf="log_password.invalid && (log_password.dirty || log_password.touched)">
              <div class="alert alert-dismissible alert-danger aler_log" role="alert">
                <div *ngIf="log_password.errors.required">
                  <span> Password is required.</span>
                </div>
              </div>
            </div>


            <div style="margin-top:10px" class="form-group">
              <div class="col-sm-12 controls">
                <button id="btn-login" [disabled]="formLogin.invalid" class="btn btn-success">Login </button>
              </div>
            </div>
            <div class="alert alert-dismissible alert-danger aler_log" role="alert" *ngIf="error_message.login != ''">
              {{error_message.login}}
            </div>



          </form>
          <div class="form-group">
            <div class="col-md-12 control">
              <div style="border-top: 1px solid#888; padding-top:15px; font-size:85%">
                Don't have an account!
                <button onClick="$('#loginbox').hide(); $('#signupbox').show()" class="btn btn-warning btn-sm">Sign Up Here</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="signupbox" style="display:none; margin-top:50px" class="mainbox col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
      <div class="panel panel-info">
        <div class="panel-heading">
          <div class="panel-title">Sign Up</div>
          <div style="float:right; font-size: 85%; position: relative; top:-10px">
            <button id="signinlink" onclick="$('#signupbox').hide(); $('#loginbox').show()" class="btn-sm btn btn-warning">Sign In</button>
          </div>
        </div>

        <!-- register -->
        <div class="panel-body">
          <form id="signupform" class="form-horizontal" role="form" (submit)="register()" #registerForm="ngForm">
            <div class="form-group">
              <label for="email" class="col-md-3 control-label">Email</label>

              <div class="col-md-9 input-group">
                <span class="input-group-addon">
                  <i class="fa fa-envelope-o fa-2x" aria-hidden="true"></i>
                </span>

                <input type="text" class="form-control" name="email" placeholder="Email Address" [(ngModel)]="user_reg.email" required email
                  #reg_email="ngModel">
              </div>
              <div *ngIf="reg_email.invalid && (reg_email.dirty || reg_email.touched)" class="al">
                <div class="alert alert-dismissible alert-danger aler" role="alert">
                  <div *ngIf="reg_email.errors.required">
                    <span> Email is required.</span>
                  </div>
                  <div *ngIf="reg_email.errors.email">
                    <span>Please input an valid email.</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="firstname" class="col-md-3 control-label">First Name</label>
              <div class="col-md-9 input-group">
                <span class="input-group-addon">
                  <i class="fa fa-user fa-2x" aria-hidden="true"></i>
                </span>
                <input type="text" class="form-control" name="firstname" placeholder="First Name" [(ngModel)]="user_reg.first_name" #reg_firstname="ngModel"
                  required>
              </div>
              <div *ngIf="reg_firstname.invalid && (reg_firstname.dirty || reg_firstname.touched)" class="al">
                <div class="alert alert-dismissible alert-danger aler" role="alert" *ngIf="reg_firstname.errors.required">
                  First name is required.
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="lastname" class="col-md-3 control-label">Last Name</label>
              <div class="col-md-9 input-group">
                <span class="input-group-addon">
                  <i class="fa fa-user fa-2x" aria-hidden="true"></i>
                </span>
                <input type="text" class="form-control" name="lastname" placeholder="Last Name" [(ngModel)]="user_reg.last_name" #reg_lastname="ngModel"
                  required>
              </div>
              <div *ngIf="reg_lastname.invalid && (reg_lastname.dirty || reg_lastname.touched)" class="al">
                <div class="alert alert-dismissible alert-danger aler" role="alert" *ngIf="reg_lastname.errors.required">
                  Last name is required.
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="password" class="col-md-3 control-label">Password</label>
              <div class="col-md-9 input-group">
                <span class="input-group-addon">
                  <i class="fa fa-lock fa-2x" aria-hidden="true"></i>
                </span>
                <input type="password" class="form-control" name="passwd" placeholder="Password" [(ngModel)]="user_reg.password" #reg_password="ngModel"
                  required minlength="4">
              </div>
              <div *ngIf="reg_password.invalid && (reg_password.dirty || reg_password.touched)" class="al">
                <div class="alert alert-dismissible alert-danger aler" role="alert">
                  <div *ngIf="reg_password.errors.required">
                    <span> Password is required.</span>
                  </div>
                  <div *ngIf="reg_password.errors.minlength">
                    <span>Password need at least four characters.</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="password" class="col-md-3 control-label">Password Confirmation</label>
              <div class="col-md-9 input-group">
                <span class="input-group-addon">
                  <i class="fa fa-unlock fa-2x" aria-hidden="true"></i>
                </span>
                <input type="password" class="form-control" name="pass_con" placeholder="Password confirmation" [(ngModel)]="password_confirm.con"
                  #reg_confirm="ngModel" pattern="{{user_reg.password}}" required>
              </div>
              <div *ngIf="reg_confirm.invalid && (reg_confirm.dirty || reg_confirm.touched)" class="al">
                <div class="alert alert-dismissible alert-danger aler" role="alert">
                  <div *ngIf="reg_confirm.errors.required">
                    <span> Password confirmation is required.</span>
                  </div>
                  <div *ngIf="reg_confirm.errors.pattern">
                    <span>Not mattch the password.</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="form-group">
              <!-- Button -->
              <div class="col-md-offset-3 col-md-9">
                <button id="btn-signup" type="submit" class="btn btn-info" [disabled]="registerForm.invalid">
                  <i class="icon-hand-right"></i>Sign Up</button>
                <div class="alert alert-dismissible alert-danger aler" role="alert" *ngIf="error_message.email != ''">
                  {{error_message.email}}
                </div>

              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
